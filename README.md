# Сравнительный анализ производительности: REST (FastAPI) vs gRPC

Проект посвящен исследованию производительности двух подходов к организации микросервисов: классического REST API (JSON) и gRPC (Protobuf). В качестве инструмента нагрузственного тестирования используется Locust.

## Установка и настройка
1. Создание виртуального окружения (venv)
Для Windows:
```
python -m venv venv
venv\Scripts\activate
```
Для macOS / Linux:
```
python3 -m venv venv
source venv/bin/activate
```
2. Установка зависимостей
```
pip install -r requirements.txt
```

### Генерация gRPC кода (Protobuf)
Перед запуском gRPC сервера необходимо сгенерировать Python-код из .proto файлов. Для этого в корне проекта лежит служебный скрипт generate_proto.py. Он автоматически компилирует proto-файл и исправляет импорты для корректной работы внутри пакета.

```
python generate.py
```

## Запуск приложения
Для проведения тестов необходимо запустить три процесса в разных терминалах. Все команды выполняются из корня проекта.

Терминал 1: REST Сервер (FastAPI)
```
 uvicorn rest_app.main:app --host 127.0.0.1 --port 8000
```
Документация Swagger доступна по адресу: http://127.0.0.1:8000/docs

Терминал 2: gRPC Сервер
```
 python -m grpc_app.src.server
```
Сервер запустится на порту 50051.

Терминал 3: Нагрузочное тестирование (Locust)
```
locust -f tests/locustfile.py
```
После запуска откройте веб-интерфейс: http://localhost:8089

## Методика тестирования
Для обеспечения честного сравнения протоколов (network overhead и сериализации) оба сервиса используют In-Memory хранилище (словарь Python). Это исключает влияние медленных операций ввода-вывода (I/O) диска или внешней БД на результаты тестов.
